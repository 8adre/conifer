{% extends "main_bootstrap.html" %}

{% block content %}
<div class="row">
    <div class="col-sm-6 col-md-4 col-md-offset-4">
        <form style="max-width: 260px;" method="post" data-toggle="validator" data-delay="1000">
            {% if curr_user %}
            <h4 style="font-weight: normal">Already logged in as <b>{{ curr_user }}</b></h4>
            <h4 style="font-weight: normal">Do you want to <a href="/_logout">logout</a>?</h4>
            {% else %}
            <h4>Please log-in to continue:</h4>

            <div class="form-group">
                <label for="username" class="sr-only">Username</label>
                <input type="text" id="username" name="username" class="form-control" placeholder="username" required="true" 
                       pattern="[A-Za-z0-9][\w-]{2,15}" data-error="This is not a valid username. If you forgot your username, please use the 'Forgot password or username' link to reset it." autofocus="true" data-delay="1000">
                <div class="help-block with-errors"></div>
            </div>

            <div class="form-group">
                <label for="inputPassword" class="sr-only">Password</label>
                <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
            </div>
            
            <button class="btn btn-lg btn-primary btn-block" type="submit">Login</button>
            {% endif %}
        </form>
        {% if not curr_user %}
        <p style="margin-top: 10px"><a href="/_forgot">Forgot password or username?</a></p>
        {% endif %}
    </div>
</div>
{% endblock %}
