<div class="row">

    <div class="col-md-2 recording-panel">

        {% include 'new_recording_button.html' %}

        <div class="recording-selector">
            <div class="card card-selected" data-recording-id="$all">
                <span class="recording-title"><strong>All recordings</strong></span>
            </div>

            {% for recording in collection.recordings %}
                <div class="card" data-recording-id="{{ recording.id }}" data-recording-title="{{ recording.title }}">
                    <div class="recording-title top-buffer-sm"><strong>{{ recording.title }}</strong></div>

                    <div class="recording-info top-buffer-sm">
                        <span class="bookmark-count">{{ recording.pages | count }} bookmarks</span>
                        <strong>/</strong>
                        <span class="current-size" data-size="{{ recording.size }}"></span>
                    </div>

                    <div class="card-time-range top-buffer-sm">
                        <span data-time-sec="{{ recording.created_at }}"></span>
                        -
                        <span data-time-sec="{{ recording.updated_at }}"></span>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="col-md-10 recording-info-content-panel">
        <h3 class="top-buffer-none pull-left">Bookmarks for <em><span class="recording-filter-list" data-recordings-in-content-panel="$all">All recordings</span></em></h3>
        <table class="table table-bordered table-hover table-bookmarks" data-page-length="25">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Recorded on</th>
                    <th>Url</th>
                    <th>Recording</th>
                </tr>
            </thead>
            <tbody>
                {% for recording in collection.recordings %}
                    {% set collection_path = get_path(user, coll) + '/' %}

                    {% for bookmark in recording.pages %}
                        {% set bookmark_title = bookmark.title if bookmark.title else "<em>No Title</em>" %}
                        {% set bookmark_timestamp = bookmark.timestamp if bookmark.timestamp else '' %}
                        {% set bookmark_path = collection_path + bookmark_timestamp + '/' + bookmark.url %}
                        {% set hidden_class = "hidden-bookmark-row" if bookmark.hidden == '1' else "" %}

                        <tr class="{{ hidden_class }}">
                            <td>{{ bookmark_title }}</td>
                            <td data-time-ts="{{ bookmark_timestamp }}"></td>
                            <td><a href="{{ bookmark_path }}">{{ bookmark.url }}</a></td>
                            <td>{{ recording.title }}</a></td>
                        </tr>
                    {% endfor %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
